<AuthorizeView>
    <MudAppBar Elevation="0" Class="pr-8">
        <MudIconButton Class="d-flex d-md-none"
                       Icon="@Icons.Material.Filled.Menu"
                       Color="Color.Inherit"
                       Edge="Edge.Start"
                       OnClick="ToggleDrawer" />
        <MudSpacer />
        <MudIconButton Icon="@Icons.Material.Outlined.Search" Color="Color.Inherit" />
        <MudIconButton Icon="@Icons.Material.Outlined.Notifications"
                       Color="Color.Inherit" />
        <MudSwitch T="bool" Checked="AppState.Value.IsDarkMode" CheckedChanged="ToggleTheme" Color="Color.Inherit" ThumbIcon="@(AppState.Value.IsDarkMode==true ? Icons.Material.Outlined.LightMode : Icons.Material.Outlined.DarkMode)"></MudSwitch>
        <MudMenu ActivationEvent="@MouseEvent.LeftClick" AnchorOrigin="@Origin.BottomLeft" Color="Color.Inherit">
            <ActivatorContent>
                <MudAvatar Color="Color.Primary" Style="height:35px; width:35px; font-size:1.25rem;">
                    @context.Username().Substring(0,1).ToUpper()
                </MudAvatar>
            </ActivatorContent>
            <ChildContent>
                <MudCard>
                    <MudCardHeader>
                        <CardHeaderAvatar>
                            <MudAvatar Square="true">
                                <MudImage Src="icon-512.png" />
                            </MudAvatar>
                        </CardHeaderAvatar>
                        <CardHeaderContent>
                            <MudText Typo="Typo.h5">@context.Username()</MudText>
                            <MudText Typo="Typo.caption">@context.UserEmail()</MudText>
                        </CardHeaderContent>
                    </MudCardHeader>
                </MudCard>
                <MudDivider Class="mb-2" />
                <MudMenuItem>Profile</MudMenuItem>
                <MudMenuItem>Settings</MudMenuItem>
                <MudMenuItem OnClick="Logout">Sign Out</MudMenuItem>
            </ChildContent>
        </MudMenu>

    </MudAppBar>
    <MudDrawer @bind-Open="_showDrawer" Elevation="1">
        <MudDrawerHeader Style="height:120px; background-color:#1B1B28;">
            <MudText Typo="Typo.h6">NetApp</MudText>
        </MudDrawerHeader>
        <NavMenu />
    </MudDrawer>
    <MudMainContent>
        <MudPaper Elevation="1" Class="top-bar">
            <MudToolBar>
                <NetAppBreadCrumb CurrentPage="@RoutingState.Value.Uri" />
                <MudSpacer />

            </MudToolBar>
        </MudPaper>
        <MudContainer MaxWidth="MaxWidth.Large" Class="pt-8">
            @ChildContent
        </MudContainer>
    </MudMainContent>
</AuthorizeView>